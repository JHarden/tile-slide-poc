"use strict";var tyloren=function(a,b){!function(){function c(a){var b=window.getComputedStyle(a,null).getPropertyValue("-webkit-transform"),c=b.match(/matrix(?:(3d)\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}\d+))(?:, (-{0,1}\d+))(?:, (-{0,1}\d+)), -{0,1}\d+\)|\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}.+))(?:, (-{0,1}.+))\))/);return c?"3d"==c[1]?c.slice(2,5):(c.push(0),c.slice(5,8)):[0,0,0]}function d(a,b,c){var d,e=D.length;switch(a){case r:n=new Array(e),d=n;break;case s:o=new Array(e),d=o;break;case t:p=new Array(e),d=p}for(var f=0,g=0;g<Math.ceil(e/a);g++){d[g]=new Array(a);for(var h=0;a>h&&(d[g][h]={x:Math.round(q+b*h),y:Math.round(q+c*g)},f++,f!==e);h++);}switch(a){case r:return n;case s:return o;case t:return p}}function e(a,b){var c,d;parseInt(b)===r?(c=n,d=F):parseInt(b)===s?(c=o,d=G):parseInt(b)===t&&(c=p,d=H);var e=Math.ceil((a+1)/parseInt(b))-1,f=0;f=(a+1)%parseInt(b)===0?parseInt(b)-1:(a+1)%parseInt(b)-1;var g=c[e][f];Object.assign(D[a].style,{width:Math.round(d[0]-q)+"px",height:Math.round(d[1]-q)+"px",transform:"translate3d("+g.x+"px,"+g.y+"px,0)"})}function f(a,b,c){switch(a){case r:return n[b][c];case s:return o[b][c];case t:return p[b][c]}}function g(b){a.dataset.tiles=b;var c=D.length-1,d=setInterval(function(){a.dataset.tiles==r?e(c,r):a.dataset.tiles==s?e(c,s):a.dataset.tiles==t&&e(c,t),c--,0>c&&clearInterval(d)},u)}function h(){for(var a=0;a<C.length;a++)C[a].classList.remove("singularity","sub-singularity","sub-xplosion","singularity-nofade","xplode","vacuum","vortex"),Object.assign(C[a].style,{transform:"translate3d(0,0,0)"});i()}function i(){for(var a,b,c,d,e=D.length;e>0;e--)a=e-1,b=Math.ceil((a+1)/r)-1,c=0,c=(a+1)%r===0?r-1:(a+1)%r-1,d=n[b][c],Object.assign(D[a].style,{width:Math.round(F[0]-q)+"px",height:Math.round(F[1]-q)+"px",transform:"translate3d("+d.x+"px,"+d.y+"px,0)"})}function j(a){for(var b=0;b<D.length;b++)D[b].children[0].addEventListener("click",a,!1),D[b].children[0].dataset.animate=b,C.push(D[b].children[0])}function k(){var a;if("undefined"!=typeof b&&"undefined"!=typeof b.singularity_config&&(a=b.singularity_config),"undefined"==typeof a||"undefined"!=typeof a.fade_active&&a.fade_active===!0?this.className+=" singularity":this.className+=" singularity-nofade","undefined"==typeof a||"undefined"!=typeof a.fade_others&&a.fade_others===!0)for(var c=0;c<C.length;c++)C[c].className.match(/(?:^|\s)singularity(?!\S)/)||C[c].className.match(/(?:^|\s)singularity-nofade(?!\S)/)||(C[c].className+=" sub-singularity")}function l(){this.className+=" singularity-nofade";for(var c,d,e,f,g=parseInt(this.dataset.animate),h=parseInt(a.dataset.tiles),i=0,j=0;j<Math.ceil(C.length/h);j++)for(var k=0;h>k&&(i===g&&(j>0&&h-1>k&&(c=C[i-h],c.className+=" xplode"),(j+1)*h+k<D.length&&(d=C[(j+1)*h+k],d.className+=" xplode")),i!==D.length);k++)i===g-1&&Math.floor(i/h)===Math.floor(g/h)?(f=C[g-1],f.className+=" xplode"):i===g+1&&Math.floor(i/h)===Math.floor(g/h)&&(e=C[g+1],e.className+=" xplode"),i++;for(var j=0;j<C.length;j++)C[j].className.match(/(?:^|\s)xplode(?!\S)/)||C[j].className.match(/(?:^|\s)singularity-nofade(?!\S)/)||(C[j].className+=" sub-xplosion");"undefined"!=typeof b&&"undefined"!=typeof b.xplode_config.split&&b.xplode_config.split===!0&&("undefined"!=typeof f&&Object.assign(f.style,{transform:"translate3d(-"+E/2+"px,0,0)"}),"undefined"!=typeof e&&Object.assign(e.style,{transform:"translate3d("+E/2+"px,0,0)"}),"undefined"!=typeof c&&Object.assign(c.style,{transform:"translate3d(0,-"+window.innerHeight/2+"px,0)"}),"undefined"!=typeof d&&Object.assign(d.style,{transform:"translate3d(0,+"+window.innerHeight/2+"px,0)"}))}function m(){this.className+=" vacuum";for(var d=parseInt(a.dataset.tiles),e=-1,g=C.length,h=[],i=parseInt(this.dataset.animate),j=50,k=!0,l=0,h=[],m=0;m<Math.ceil(g/d);m++)for(var n=0;d>n;n++)if(e++,e===i){h=f(d,m,n);break}"undefined"!=typeof b&&"undefined"!=typeof b.vacuum_config&&(j=b.vacuum_config.stagger,k=b.vacuum_config.fade);var o=setInterval(function(){var a=c(D[l]);C[l].classList.contains("vacuum")||(k&&(C[l].className+=" vortex"),Object.assign(C[l].style,{transform:"translate3d("+(parseInt(h.x)-parseInt(a[0]))+"px,"+parseInt(h.y-parseInt(a[1]))+"px,0)"})),l++,l>=C.length&&clearInterval(o)},j)}var n,o,p,q=15,r=6,s=4,t=3,u=100,v=!0,w=!1,x=!1,y="small_size",z="medium_size",A="large_size",B="reset",C=[],D=a.children;void 0!==b&&(r=void 0!==b.small?b.small:r,s=void 0!==b.medium?b.medium:s,t=void 0!==b.large?b.large:t,u=void 0!==b.speed?b.speed:u,q=void 0!==b.padding?b.padding:q,v=void 0!==b.singularity?b.singularity:v,w=void 0!==b.xplode?b.xplode:w,x=void 0!==b.vacuum?b.vacuum:x,y=void 0!=b.toggle_handlers.small?b.toggle_handlers.small:y,z=void 0!=b.toggle_handlers.medium?b.toggle_handlers.medium:z,A=void 0!=b.toggle_handlers.large?b.toggle_handlers.large:A,B=void 0!=b.toggle_handlers.reset?b.toggle_handlers.reset:B);var E=a.getBoundingClientRect().width-q,F=[E/r,E/r],G=[E/s,E/s],H=[E/t,E/t];n=d(r,F[0],F[1]),o=d(s,G[0],G[1]),p=d(t,H[0],H[1]),document.getElementById(y).addEventListener("click",function(){g(r)},!1),document.getElementById(z).addEventListener("click",function(){g(s)},!1),document.getElementById(A).addEventListener("click",function(){g(t)},!1),document.getElementById(B).addEventListener("click",h,!1),v?j(k):w?j(l):x&&j(m),i()}()};tyloren(document.getElementById("photos_list"),{small:8,medium:6,large:4,speed:100,padding:15,singularity:!1,singularity_config:{fade_others:!1,fade_active:!1},xplode:!1,xplode_config:{split:!0},vacuum:!0,vacuum_config:{stagger:25,fade:!0},toggle_handlers:{small:"small_size",medium:"medium_size",large:"large_size",reset:"reset"}});