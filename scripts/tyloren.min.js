"use strict";var tyloren=function(a,b){!function(){function c(a){var b=window.getComputedStyle(a,null).getPropertyValue("-webkit-transform"),c=b.match(/matrix(?:(3d)\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}\d+))(?:, (-{0,1}\d+))(?:, (-{0,1}\d+)), -{0,1}\d+\)|\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}.+))(?:, (-{0,1}.+))\))/);return c?"3d"==c[1]?c.slice(2,5):(c.push(0),c.slice(5,8)):[0,0,0]}function d(a,b){var c,d=0,e=1e3;for(d in a){var f=Math.abs(b-a[d]);e>f&&b<a[d]&&(e=f,c=a[d])}return c}function e(a,b,c){var d,e=L.length;switch(a){case v:r=new Array(e),d=r;break;case w:s=new Array(e),d=s;break;case x:t=new Array(e),d=t}for(var f=0,g=0;g<Math.ceil(e/a);g++){d[g]=new Array(a);for(var h=0;a>h&&(d[g][h]={x:Math.round(u+b*h),y:Math.round(u+c*g)},f++,f!==e);h++);}switch(a){case v:return r;case w:return s;case x:return t}}function f(a,b){var c,d;parseInt(b)===v?(c=r,d=M):parseInt(b)===w?(c=s,d=N):parseInt(b)===x&&(c=t,d=O);var e=Math.ceil((a+1)/parseInt(b))-1,f=0;f=(a+1)%parseInt(b)===0?parseInt(b)-1:(a+1)%parseInt(b)-1;var g=c[e][f];Object.assign(L[a].style,{width:Math.round(d[0]-u)+"px",height:Math.round(d[1]-u)+"px",transform:"translate3d("+g.x+"px,"+g.y+"px,0)",position:"absolute"})}function g(a,b,c){switch(a){case v:return r[b][c];case w:return s[b][c];case x:return t[b][c]}}function h(b){a.dataset.tiles=b;var c=L.length-1,d=setInterval(function(){a.dataset.tiles==v?f(c,v):a.dataset.tiles==w?f(c,w):a.dataset.tiles==x&&f(c,x),c--,0>c&&clearInterval(d)},y)}function i(){var b,c,d,e,f,g,h=parseInt(a.dataset.tiles);switch(h){case v:f=r,g=M;break;case w:f=s,g=N;break;case x:f=t,g=O}for(var i=L.length;i>0;i--)b=i-1,"undefined"!=typeof K&&(K[b].classList.remove("singularity","sub-singularity","sub-xplosion","singularity-nofade","xplode","vacuum","vortex","glados","chell"),K[b].style.transform=""),c=Math.ceil((b+1)/h)-1,d=0,d=(b+1)%h===0?h-1:(b+1)%h-1,e=f[c][d],Object.assign(L[b].style,{width:Math.round(g[0]-u)+"px",height:Math.round(g[1]-u)+"px",transform:"translate3d("+e.x+"px,"+e.y+"px,0)",position:"absolute"})}function j(){var c=b.responsive_config,f=Object.keys(c),g=d(f,window.innerWidth);if(window.innerWidth<=g)for(var h in c[g])switch(h){case"small":v=c[g][h],M=1!=A?[P/v,P/v*A]:[P/v,P/v],r=e(v,M[0],M[1]),a.dataset.tiles=v;break;case"medium":w=c[g][h],N=1!=A?[P/w,P/w*A]:[P/w,P/w],s=e(w,N[0],N[1]);break;case"large":x=c[g][h],O=1!=A?[P/x,P/x*A]:[P/x,P/x],t=e(x,O[0],O[1]);break;case"padding":u=c[g][h]}}function k(){P=a.getBoundingClientRect().width-u,"undefined"!=typeof b&&"undefined"!=typeof b.responsive_config&&j(),i()}function l(){for(var a,b,c=0;c<L.length;c++)a=L[c].children[0],b=a.cloneNode(!0),a.parentNode.replaceChild(b,a)}function m(a){F&&l();for(var b=0;b<L.length;b++)L[b].children[0].addEventListener("click",a,!1),L[b].children[0].dataset.animate=b,L[b].children[0].style.transitionProperty="all",L[b].children[0].style.transitionDuration="1s",L[b].children[0].style.transitionTimingFunction="ease-out",L[b].children[0].style.transitionDelay="0.2s",L[b].children[0].style.width="100%",K.push(L[b].children[0])}function n(){var a;if("undefined"!=typeof b&&"undefined"!=typeof b.singularity_config&&(a=b.singularity_config),"undefined"==typeof a||"undefined"!=typeof a.fade_active&&a.fade_active===!0?this.className+=" singularity":this.className+=" singularity-nofade","undefined"==typeof a||"undefined"!=typeof a.fade_others&&a.fade_others===!0)for(var c=0;c<K.length;c++)K[c].className.match(/(?:^|\s)singularity(?!\S)/)||K[c].className.match(/(?:^|\s)singularity-nofade(?!\S)/)||(K[c].className+=" sub-singularity")}function o(){this.className+=" singularity-nofade";for(var c,d,e,f,g=parseInt(this.dataset.animate),h=parseInt(a.dataset.tiles),i=0,j=0;j<Math.ceil(K.length/h);j++)for(var k=0;h>k&&(i===g&&(j>0&&h-1>k&&(c=K[i-h],c.className+=" xplode"),(j+1)*h+k<L.length&&(d=K[(j+1)*h+k],d.className+=" xplode")),i!==L.length);k++)i===g-1&&Math.floor(i/h)===Math.floor(g/h)?(f=K[g-1],f.className+=" xplode"):i===g+1&&Math.floor(i/h)===Math.floor(g/h)&&(e=K[g+1],e.className+=" xplode"),i++;for(var j=0;j<K.length;j++)K[j].className.match(/(?:^|\s)xplode(?!\S)/)||K[j].className.match(/(?:^|\s)singularity-nofade(?!\S)/)||(K[j].className+=" sub-xplosion");"undefined"!=typeof b&&"undefined"!=typeof b.xplode_config&&"undefined"!=typeof b.xplode_config.split&&b.xplode_config.split===!0&&("undefined"!=typeof f&&Object.assign(f.style,{transform:"translate3d(-"+P/2+"px,0,0)"}),"undefined"!=typeof e&&Object.assign(e.style,{transform:"translate3d("+P/2+"px,0,0)"}),"undefined"!=typeof c&&Object.assign(c.style,{transform:"translate3d(0,-"+window.innerHeight/2+"px,0)"}),"undefined"!=typeof d&&Object.assign(d.style,{transform:"translate3d(0,+"+window.innerHeight/2+"px,0)"}))}function p(){this.className+=" vacuum";for(var d=parseInt(a.dataset.tiles),e=-1,f=K.length,h=[],i=parseInt(this.dataset.animate),j=50,k=!0,l=0,m=0;m<Math.ceil(f/d);m++)for(var n=0;d>n;n++)if(e++,e===i){h=g(d,m,n);break}"undefined"!=typeof b&&"undefined"!=typeof b.vacuum_config&&(j=b.vacuum_config.stagger,k=b.vacuum_config.fade);var o=setInterval(function(){var a=c(L[l]);K[l].classList.contains("vacuum")||(k&&(K[l].className+=" vortex"),Object.assign(K[l].style,{transform:"translate3d("+(parseInt(h.x)-parseInt(a[0]))+"px,"+parseInt(h.y-parseInt(a[1]))+"px,0)"})),l++,l>=K.length&&clearInterval(o)},j)}function q(){this.className+=" glados";var a=0,c=50;"undefined"!=typeof b&&"undefined"!=typeof b.glados_config&&"undefined"!==b.glados_config.stagger&&(c=b.glados_config.stagger);var d=setInterval(function(){K[a].classList.contains("glados")||(K[a].className+=" chell"),a++,a>=K.length&&clearInterval(d)},c)}var r,s,t,u=15,v=10,w=7,x=5,y=100,z=!0,A=1,B=!0,C=!1,D=!1,E=!1,F=!1,G="small_size",H="medium_size",I="large_size",J="reset",K=[],L=a.children;void 0!==b&&(v=void 0!==b.small?b.small:v,w=void 0!==b.medium?b.medium:w,x=void 0!==b.large?b.large:x,y=void 0!==b.speed?b.speed:y,A=void 0!==b.width_height_ratio?b.width_height_ratio:A,z=void 0!==b.responsive?b.responsive:z,u=void 0!==b.padding?b.padding:u,B=void 0!==b.singularity?b.singularity:B,C=void 0!==b.xplode?b.xplode:C,D=void 0!==b.vacuum?b.vacuum:D,E=void 0!==b.glados?b.glados:E,F=void 0!==b.toggle_animations?b.toggle_animations:F,void 0!==b.toggle_handlers&&(G=void 0!=b.toggle_handlers.small?b.toggle_handlers.small:G,H=void 0!=b.toggle_handlers.medium?b.toggle_handlers.medium:H,I=void 0!=b.toggle_handlers.large?b.toggle_handlers.large:I,J=void 0!=b.toggle_handlers.reset?b.toggle_handlers.reset:J));var M,N,O,P=a.getBoundingClientRect().width-u;if(1!=A?(console.log("setting custom wh ratio"),M=[P/v,P/v*A],N=[P/w,P/w*A],O=[P/x,P/x*A]):(M=[P/v,P/v],N=[P/w,P/w],O=[P/x,P/x]),r=e(v,M[0],M[1]),s=e(w,N[0],N[1]),t=e(x,O[0],O[1]),z){var Q;window.onresize=function(){clearInterval(Q),Q=window.setTimeout(k,200)}}document.getElementById(G).addEventListener("click",function(){h(v)},!1),document.getElementById(H).addEventListener("click",function(){h(w)},!1),document.getElementById(I).addEventListener("click",function(){h(x)},!1),document.getElementById(J).addEventListener("click",i,!1),B?m(n):C?m(o):D?m(p):E&&m(q),"undefined"!=typeof b&&"undefined"!=typeof b.responsive_config&&j(),i()}()};